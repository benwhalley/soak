name: rta
settings:
  temperature: 1.0

extra_context:
  persona: Experienced qualitative researcher
  researcher_position: false
  epistemological_stance: Post positivist
  research_question: No prespecified questions

steps:
- split:
    name: chunks
    chunk_size: 20000
    min_split: 500
    split_unit: "chars"
    inputs:
    - documents
- map:
    name: familiarisation
    inputs:
    - chunks
- reduce:
    name: familiarisation_summary
    inputs:
    - familiarisation
- map:
    name: critical_engagement
    inputs:
    - chunks
    - familiarisation_summary
- reduce:
    name: critical_summary
    inputs:
    - critical_engagement
- map:
    name: reflexive_coding
    inputs:
    - chunks
    - critical_summary
    - familiarisation_summary
- reduce:
    name: codes_scalar
    inputs:
    - reflexive_coding
- transform:
    name: codes
    inputs:
    - codes_scalar
    - critical_summary
    - familiarisation_summary
- transform:
    name: brainstorm_themes
    inputs:
    - codes
    - critical_summary
    - familiarisation_summary
- transform:
    name: themes
    inputs:
    - brainstorm_themes
    - codes
    - critical_summary
    - familiarisation_summary
- transform:
    name: narrative_report
    inputs:
    - themes
    - codes
    - critical_summary
    - familiarisation_summary
